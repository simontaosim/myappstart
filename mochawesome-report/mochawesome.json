{
  "stats": {
    "suites": 2,
    "tests": 2,
    "passes": 2,
    "pending": 0,
    "failures": 0,
    "start": "2020-04-10T08:22:35.269Z",
    "end": "2020-04-10T08:22:35.561Z",
    "duration": 292,
    "testsRegistered": 2,
    "passPercent": 100,
    "pendingPercent": 0,
    "other": 0,
    "hasOther": false,
    "skipped": 0,
    "hasSkipped": false
  },
  "results": [
    {
      "uuid": "a4e15e6e-3bac-4ff6-bf39-fea8e3500e68",
      "title": "",
      "fullFile": "",
      "file": "",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "70a3b438-3ddf-41ce-b3d6-eb7b26fe8f86",
          "title": "對users api restful的單元測試",
          "fullFile": "/home/simon/mycode/appstart/src/test/apis/users.spec.ts",
          "file": "/src/test/apis/users.spec.ts",
          "beforeHooks": [
            {
              "title": "\"before all\" hook",
              "fullTitle": "對users api restful的單元測試 \"before all\" hook",
              "timedOut": false,
              "duration": 226,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "return __awaiter(_this, void 0, void 0, function () {\n        var e_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 2, , 5]);\n                    return [4 /*yield*/, typeorm_1.getConnection(\"test\")];\n                case 1:\n                    connection = _a.sent();\n                    return [3 /*break*/, 5];\n                case 2:\n                    e_1 = _a.sent();\n                    if (!!connection) return [3 /*break*/, 4];\n                    return [4 /*yield*/, typeorm_1.createConnection(process.env.NODE_ENV || 'test')];\n                case 3:\n                    connection = _a.sent();\n                    _a.label = 4;\n                case 4: return [3 /*break*/, 5];\n                case 5:\n                    app = new App_1.default();\n                    app.start(connection);\n                    return [2 /*return*/];\n            }\n        });\n    });",
              "err": {},
              "uuid": "8bb7c28a-4b1e-42d9-a194-3f22158a1a92",
              "parentUUID": "70a3b438-3ddf-41ce-b3d6-eb7b26fe8f86",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [
            {
              "title": "\"after all\" hook",
              "fullTitle": "對users api restful的單元測試 \"after all\" hook",
              "timedOut": false,
              "duration": 3,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "return __awaiter(_this, void 0, void 0, function () {\n        var e_3;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 2, , 3]);\n                    console.log(\"開始關閉服務器\");\n                    return [4 /*yield*/, app.stop()];\n                case 1:\n                    _a.sent();\n                    return [3 /*break*/, 3];\n                case 2:\n                    e_3 = _a.sent();\n                    console.error(e_3);\n                    return [3 /*break*/, 3];\n                case 3: return [2 /*return*/];\n            }\n        });\n    });",
              "err": {},
              "uuid": "a527e56f-df4b-4b3b-adb7-63cc66e6917a",
              "parentUUID": "70a3b438-3ddf-41ce-b3d6-eb7b26fe8f86",
              "isHook": true,
              "skipped": false
            }
          ],
          "tests": [
            {
              "title": "創建一個角色, 用戶名爲john, 密碼爲123456",
              "fullTitle": "對users api restful的單元測試 創建一個角色, 用戶名爲john, 密碼爲123456",
              "timedOut": false,
              "duration": 51,
              "state": "passed",
              "speed": "medium",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "return __awaiter(_this, void 0, void 0, function () {\n        var user, e_2;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    user = null;\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, dataProvider_1.default.create('users', {\n                            username: 'john',\n                            password: '123456'\n                        })];\n                case 2:\n                    user = _a.sent();\n                    console.log(user);\n                    return [3 /*break*/, 4];\n                case 3:\n                    e_2 = _a.sent();\n                    console.error(e_2);\n                    return [3 /*break*/, 4];\n                case 4:\n                    expect(user).to.have.property('data');\n                    expect(user.data.username).to.equal('john');\n                    expect(user).to.not.equal(undefined);\n                    return [2 /*return*/];\n            }\n        });\n    });",
              "err": {},
              "uuid": "e56a3942-2767-470e-b49d-98cedc52cf07",
              "parentUUID": "70a3b438-3ddf-41ce-b3d6-eb7b26fe8f86",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "e56a3942-2767-470e-b49d-98cedc52cf07"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 51,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "738d926c-695e-4415-89d2-6d9f4c35a58a",
          "title": "對RestService的單元測試",
          "fullFile": "/home/simon/mycode/appstart/src/test/daos/RestService.spec.ts",
          "file": "/src/test/daos/RestService.spec.ts",
          "beforeHooks": [
            {
              "title": "\"before all\" hook",
              "fullTitle": "對RestService的單元測試 \"before all\" hook",
              "timedOut": false,
              "duration": 1,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "return __awaiter(_this, void 0, void 0, function () {\n        var e_1, e_2;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    console.log(\"開始單元測試\");\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 2, , 7]);\n                    connection = typeorm_1.getConnection(\"test\");\n                    return [3 /*break*/, 7];\n                case 2:\n                    e_1 = _a.sent();\n                    console.error(e_1);\n                    if (!!connection) return [3 /*break*/, 6];\n                    _a.label = 3;\n                case 3:\n                    _a.trys.push([3, 5, , 6]);\n                    return [4 /*yield*/, typeorm_1.createConnection(process.env.NODE_ENV || 'test')];\n                case 4:\n                    connection = _a.sent();\n                    return [3 /*break*/, 6];\n                case 5:\n                    e_2 = _a.sent();\n                    console.error(e_2);\n                    return [3 /*break*/, 6];\n                case 6: return [3 /*break*/, 7];\n                case 7: return [2 /*return*/];\n            }\n        });\n    });",
              "err": {},
              "uuid": "e470fe25-195e-47c9-aa66-a083bafb8199",
              "parentUUID": "738d926c-695e-4415-89d2-6d9f4c35a58a",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [],
          "tests": [
            {
              "title": "創建一個角色, 用戶名爲john, 密碼爲123456",
              "fullTitle": "對RestService的單元測試 創建一個角色, 用戶名爲john, 密碼爲123456",
              "timedOut": false,
              "duration": 1,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "return __awaiter(_this, void 0, void 0, function () {\n        var restService, user, e_3;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    console.log(\"users\");\n                    restService = new RestService_1.default(\"users\", connection);\n                    user = null;\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, restService.create({\n                            username: 'john',\n                            password: '123456'\n                        })];\n                case 2:\n                    user = _a.sent();\n                    return [3 /*break*/, 4];\n                case 3:\n                    e_3 = _a.sent();\n                    console.error(e_3);\n                    return [3 /*break*/, 4];\n                case 4:\n                    expect(user).to.have.property('username');\n                    expect(user.username).to.equal('john');\n                    expect(user).to.not.equal(undefined);\n                    return [2 /*return*/];\n            }\n        });\n    });",
              "err": {},
              "uuid": "44e3272d-1ac5-47be-a3a4-14e3450a60fb",
              "parentUUID": "738d926c-695e-4415-89d2-6d9f4c35a58a",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "44e3272d-1ac5-47be-a3a4-14e3450a60fb"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 1,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 2000
    }
  ],
  "meta": {
    "mocha": {
      "version": "7.1.1"
    },
    "mochawesome": {
      "options": {
        "quiet": false,
        "reportFilename": "mochawesome",
        "saveHtml": true,
        "saveJson": true,
        "consoleReporter": "spec",
        "useInlineDiffs": false,
        "code": true
      },
      "version": "5.0.0"
    },
    "marge": {
      "options": null,
      "version": "4.1.0"
    }
  }
}